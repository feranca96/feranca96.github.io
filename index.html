<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåê Êô∫ËÉΩËΩ¨Êç¢Â∑•ÂÖ∑</title>
    <title>Êó∂Èó¥ÊòæÁ§∫</title>
    <style>
        /* Êó∂Èó¥ÊòæÁ§∫ÈÉ®ÂàÜÊ†∑Âºè */
         #time {
            width: 500px;
            height: 50px;
            color: #fff;
            background-color: #8E8E8E;
            line-height: 50px; 
            text-align: center;
            margin: 0 auto; /* Â±Ö‰∏≠ÊòæÁ§∫ */
            border-radius: 8px;
            /* Ê∑ªÂä†Èò¥ÂΩ± */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Êô∫ËÉΩËΩ¨Êç¢Â∑•ÂÖ∑ÈÉ®ÂàÜÊ†∑Âºè */
        :root {
            --primary-color: #2196F3;
            --secondary-color: #4CAF50;
            --background-color: #f0f2f5;
            --text-color: #333333;
            --border-color: #dddddd;
            --container-background: white;
            --textarea-background: white;
            --result-item-background: white;
            --box-background: white;
        }

        [data-theme="dark"] {
            --primary-color: #1565C0;
            --secondary-color: #2E7D32;
            --background-color: #121212;
            --text-color: #ffffff;
            --border-color: #555555;
            --container-background: #1e1e1e;
            --textarea-background: #2d2d2d;
            --result-item-background: #2d2d2d;
            --box-background: #2d2d2d;
        }

        * {
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font - family: 'Microsoft Uighur', Arial, sans - serif;
            margin: 0;
            padding: 40px;
            background: var(--background-color);
            color: var(--text-color);
            min-height: 100vh;
            transition: background 0.3s, color 0.3s;
        }

        .dark-mode {
            background: var(--background-color);
            color: var(--text-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--container-background);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: background 0.3s, color 0.3s;
        }

        .logo {
            width: 200px;
            height: 150px;
            display: block;
            margin: 0 auto 50px;
        }

        textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            margin: 18px 0;
            border: 2px solid var(--border-color);
            border-radius: 11px;
            font-size: 19px;
            resize: vertical;
            transition: background 0.3s, color 0.3s, border-color 0.3s;
            background: var(--textarea-background);
            color: var(--text-color);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: 0.3s;
            font-size: 16px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background: #607D8B;
            color: white;
        }

        .btn-copy {
            background: #4CAF50;
            color: white;
        }

        .btn-delete {
            background: #F44336;
            color: white;
        }

        .btn-favorite {
            background: #E91E63;
            color: white;
        }

        .btn-theme {
            background: #9C27B0;
            color: white;
        }

        .result-box {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .result-item {
            padding: 15px;
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            background: var(--result-item-background);
            transition: background 0.3s, color 0.3s, border-color 0.3s;
            color: var(--text-color);
        }

        .result-title {
            font-size: 20px;
            margin: 0 0 12px 0;
            padding-bottom: 10px;
            border-bottom: 4px solid;
        }
    </style>
</head>

<body>
    <div id="time"></div>
    <script>
        function time() {
            function format(i) {
                return (i < 10 ? "0" + i : i);
            }
            var date = new Date();
            var year = date.getFullYear();
            var month = format(date.getMonth() + 1);
            var day = format(date.getDate());
            var arr = ["Ÿä€ïŸÉÿ¥€ïŸÜÿ®€ï", "ÿØ€àÿ¥€ïŸÜÿ®€ï", "ÿ≥€ïŸäÿ¥€ïŸÜÿ®€ï", "⁄Üÿßÿ±ÿ¥€ïŸÜÿ®€ï", "Ÿæ€ïŸäÿ¥€ïŸÜÿ®€ï", "ÿ¨€àŸÖ€ï", "ÿ¥€ïŸÜÿ®€ï"];
            var week = arr[date.getDay()];
            var hour = format(date.getHours());
            var minute = format(date.getMinutes());
            var second = format(date.getSeconds());
            document.getElementById("time").innerHTML = "ŸäÿßÿÆÿ¥ŸâŸÖ€áÿ≥Ÿâÿ≤ÿå ⁄æÿßÿ≤Ÿâÿ± €ãÿßŸÇŸâÿ™ : " + year + "-ŸäŸâŸÑŸâ " + month + "-ÿ¶ÿßŸäŸÜŸâ⁄≠ " + day + "-ŸÉ€àŸÜŸâ " + week + " " + hour + ":" + minute + ":" + second;
        }

        var interval = setInterval(time, 1000);
        time();
    </script>

    <div class="container">
        <img src="https://resource.chunyu.mobi/@/media/2016_04_19_260759f0ea587e45890c60b84d720f48.gif" alt="Logo" class="logo">
        <h1 style="text-align: center;">üåê Êô∫ËÉΩËΩ¨Êç¢Â∑•ÂÖ∑</h1>

        <!-- ËæìÂÖ•Ê°Ü -->
        <textarea id="input" placeholder="ËæìÂÖ• UEY/ULY/USY/UYY/IPA ÊñáÊú¨"></textarea>

        <!-- ÊåâÈíÆÁªÑ -->
        <div class="btn-group">
            <button class="btn-primary" onclick="convertAll()">üöÄ ‰∏ÄÈîÆËΩ¨Êç¢</button>
            <button class="btn-secondary" onclick="toggleAdvanced()">‚öôÔ∏è È´òÁ∫ßÈÄâÈ°π</button>
            <button class="btn-favorite" onclick="addToFavorites()">‚ù§Ô∏è Êî∂Ëóè</button>
            <button class="btn-theme" onclick="toggleTheme()">üåì ÂàáÊç¢‰∏ªÈ¢ò</button>
        </div>

            <!-- È´òÁ∫ßÈÄâÈ°π -->
            <div id="advancedOptions" style="display: none; text-align: left;">
                <h3>‚öôÔ∏è ÊòæÁ§∫Ê†ºÂºè</h3>
                <label class="format-checkbox"><input type="checkbox" id="showUEY" checked> UEY</label>
                <label class="format-checkbox"><input type="checkbox" id="showULY" checked> ULY</label>
                <label class="format-checkbox"><input type="checkbox" id="showUSY" checked> USY</label>
                <label class="format-checkbox"><input type="checkbox" id="showUYY" checked> UYY</label>
                <label class="format-checkbox"><input type="checkbox" id="showIPA" checked> IPA</label>
            </div>
    <script>
        function toggleTheme() {
            const htmlElement = document.documentElement;
            const currentTheme = htmlElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light'? 'dark' : 'light';
            htmlElement.setAttribute('data-theme', newTheme);
        }
        // Êõ¥Êñ∞Êó∂Èó¥ÊòæÁ§∫
        function updateTime() {
            const timeDisplay = document.getElementById('timeDisplay');
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            timeDisplay.textContent = timeString;
        }

        // ÂàùÂßãË∞ÉÁî®Êõ¥Êñ∞Êó∂Èó¥ÔºåÂπ∂ÊØèÁßíÊõ¥Êñ∞‰∏ÄÊ¨°
        updateTime();
        setInterval(updateTime, 1000);
    </script>
            <!-- ÁªìÊûúÂ±ïÁ§∫ -->
            <div class="result-box" id="resultContainer"></div>

            <!-- ÂéÜÂè≤ËÆ∞ÂΩï -->
            <div class="history-box">
                <h3>üìú ÂéÜÂè≤ËÆ∞ÂΩï</h3>
                <input type="text" id="searchHistory" placeholder="ÊêúÁ¥¢ÂéÜÂè≤ËÆ∞ÂΩï" oninput="searchHistory()">
                <div id="historyList"></div>
            </div>

            <!-- Êî∂ËóèÂ§π -->
            <div class="favorites-box">
                <h3>‚ù§Ô∏è Êî∂ËóèÂ§π</h3>
                <div id="favoritesList"></div>
            </div>
        </div>
    </div>

    <!-- ÈÄöÁü• -->
    <div class="notification" id="notification"></div>

    <script>
        // Â≠óÁ¨¶Êò†Â∞ÑË°®ÔºàÊîØÊåÅÂ§öÂêëËΩ¨Êç¢Ôºâ
        const charMap = [
            // Â§öÂ≠óÁ¨¶ÁªÑÂêà
            { UEY: 'ÿ¶ÿß', ULY: 'a', USY: 'a', UYY: 'a', IPA: '…ë' },
            { UEY: 'ÿ¶€ï', ULY: 'e', USY: '”ô', UYY: '√©', IPA: '…õ' },
            { UEY: 'ŸÜ⁄Ø', ULY: 'ng', USY: '“£–≥', UYY: 'ng', IPA: '≈ã…°' },
            // ÂçïÂ≠óÁ¨¶
            { UEY: 'ÿß', ULY: 'a', USY: 'a', UYY: 'a', IPA: 'a' },
            { UEY: 'ÿ®', ULY: 'b', USY: '–ë', UYY: 'b', IPA: 'b' },
            { UEY: 'Ÿæ', ULY: 'p', USY: '–ü', UYY: 'p', IPA: 'p' },
            { UEY: 'ÿ™', ULY: 't', USY: 't', UYY: 't', IPA: 't' },
            { UEY: 'ÿ¨', ULY: 'j', USY: '“ñ', UYY: 'j', IPA: 'dÕ° í' },
            { UEY: '⁄Ü', ULY: 'ch', USY: '–ß', UYY: 'ch', IPA: 'tÕ° É' },
            { UEY: 'ÿÆ', ULY: 'x', USY: 'x', UYY: 'x', IPA: 'x' },
            { UEY: 'ÿØ', ULY: 'd', USY: '–î', UYY: 'd', IPA: 'd' },
            { UEY: 'ÿ±', ULY: 'r', USY: 'r', UYY: 'r', IPA: 'r' },
            { UEY: 'ÿ≤', ULY: 'z', USY: '–ó', UYY: 'z', IPA: 'z' },
            { UEY: '⁄ò', ULY: 'zh', USY: '–ñ', UYY: 'zh', IPA: ' í' },
            { UEY: 'ÿ≥', ULY: 's', USY: 'c', UYY: 's', IPA: 's' },
            { UEY: 'ÿ¥', ULY: 'sh', USY: '–®', UYY: 'sh', IPA: ' É' },
            { UEY: 'ÿ∫', ULY: 'gh', USY: '“í', UYY: 'gh', IPA: ' Å' },
            { UEY: 'ŸÅ', ULY: 'f', USY: '–§', UYY: 'f', IPA: 'f' },
            { UEY: 'ŸÇ', ULY: 'q', USY: '“ö', UYY: 'q', IPA: 'q' },
            { UEY: 'ŸÉ', ULY: 'k', USY: 'k', UYY: 'k', IPA: 'k' },
            { UEY: '⁄Ø', ULY: 'g', USY: '–ì', UYY: 'g', IPA: '…°' },
            { UEY: '⁄≠', ULY: 'ng', USY: '“¢', UYY: 'ng', IPA: '≈ã' },
            { UEY: 'ŸÑ', ULY: 'l', USY: '–õ', UYY: 'l', IPA: 'l' },
            { UEY: 'ŸÖ', ULY: 'm', USY: 'm', UYY: 'm', IPA: 'm' },
            { UEY: 'ŸÜ', ULY: 'n', USY: '–ù', UYY: 'n', IPA: 'n' },
            { UEY: '⁄æ', ULY: 'h', USY: '“∫', UYY: 'h', IPA: 'h' },
            { UEY: 'Ÿà', ULY: 'o', USY: 'o', UYY: 'o', IPA: 'o' },
            { UEY: '€á', ULY: 'u', USY: '–£', UYY: 'u', IPA: 'u' },
            { UEY: '€Ü', ULY: '√∂', USY: '”®', UYY: '√∂', IPA: '√∏' },
            { UEY: '€à', ULY: '√º', USY: '“Æ', UYY: '√º', IPA: 'y' },
            { UEY: 'ÿ¶Ÿà', ULY: 'o', USY: 'o', UYY: 'o', IPA: 'o' },
            { UEY: 'ÿ¶€á', ULY: 'u', USY: '–£', UYY: 'u', IPA: 'u' },
            { UEY: 'ÿ¶€Ü', ULY: '√∂', USY: '”®', UYY: '√∂', IPA: '√∏' },
            { UEY: 'ÿ¶€Ü', ULY: '√º', USY: '“Æ', UYY: '√º', IPA: 'y' },
            { UEY: '€ê', ULY: 'e', USY: 'e', UYY: 'e', IPA: 'e' },
            { UEY: 'ÿ¶€ê', ULY: 'e', USY: 'e', UYY: 'e', IPA: 'e' },
            { UEY: 'ÿ¶Ÿâ', ULY: 'i', USY: '–ò', UYY: 'i', IPA: 'i'  },
            { UEY: 'Ÿä', ULY: 'y', USY: '–π', UYY: 'y', IPA: 'j' },
            { UEY: 'ÿ¶ÿß', ULY: 'a', USY: 'a', UYY: 'a', IPA: '…ë' },
            { UEY: 'ÿ¶€ï', ULY: 'e', USY: '”ô', UYY: '√©', IPA: '…õ' },
            { UEY: '€ï', ULY: 'e', USY: '”ô', UYY: '√©', IPA: '…õ' },
            { UEY: '€ã', ULY: 'v', USY: 'v', UYY: 'v', IPA: 'w' },
            { UEY: 'ŸÜ⁄Ø', ULY: 'ng', USY: '“£–≥', UYY: 'ng', IPA: '≈ã…°' },
            { UEY: 'Ÿâ', ULY: 'i', USY: '–ò', UYY: 'i', IPA: 'i' },
        ];

        // ÂéÜÂè≤ËÆ∞ÂΩïÂíåÊî∂ËóèÂ§π
        let history = [];
        let favorites = [];

        // Ê£ÄÊµãËæìÂÖ•Ê†ºÂºè
        function detectInputFormat(text) {
            if (/[\u0600-\u06FF]/.test(text)) return 'UEY';
            if (/[–ê-–Ø–∞-—è]/.test(text)) return 'USY';
            if (/[A-Za-z√ú√º√ñ√∂]/.test(text)) return 'ULY';
            if (/[\[\]\/]/.test(text)) return 'IPA';
            return 'IPA';
        }

        // ÈÄöÁî®ËΩ¨Êç¢ÂáΩÊï∞
        function convertText(text, targetFormat) {
            const inputFormat = detectInputFormat(text);
            let result = '';
            let i = 0;
            while (i < text.length) {
                let found = false;
                // ‰ºòÂÖàÂåπÈÖçÊúÄÈïøÁªÑÂêàÔºàÁ§∫‰æã‰ªÖÂ§ÑÁêÜÂçïÂ≠óÁ¨¶Ôºâ
                for (const entry of charMap) {
                    if (text.startsWith(entry[inputFormat], i)) {
                        result += entry[targetFormat];
                        i += entry[inputFormat].length;
                        found = true;
                        break;
                    }
                }
                if (!found) {
                    result += text[i];
                    i++;
                }
            }
            return result;
        }

        // ‰∏ÄÈîÆËΩ¨Êç¢
        function convertAll() {
            const input = document.getElementById('input').value;
            if (!input) return showNotification("ËØ∑ËæìÂÖ•ÂÜÖÂÆπÔºÅ");

            const results = {
                UEY: convertText(input, 'UEY'),
                ULY: convertText(input, 'ULY'),
                USY: convertText(input, 'USY'),
                UYY: convertText(input, 'UYY'),
                IPA: `[${convertText(input, 'IPA')}]`
            };

            // Ê†πÊçÆÈÄâÈ°πÊòæÁ§∫ÁªìÊûú
            const showUEY = document.getElementById('showUEY').checked;
            const showULY = document.getElementById('showULY').checked;
            const showUSY = document.getElementById('showUSY').checked;
            const showUYY = document.getElementById('showUYY').checked;
            const showIPA = document.getElementById('showIPA').checked;

            let html = '';
            if (showUEY) html += createResultCard('UEY', results.UEY);
            if (showULY) html += createResultCard('ULY', results.ULY);
            if (showUSY) html += createResultCard('USY', results.USY);
            if (showUYY) html += createResultCard('UYY', results.UYY);
            if (showIPA) html += createResultCard('IPA', results.IPA);

            document.getElementById('resultContainer').innerHTML = html;

            // ËÆ∞ÂΩïÂéÜÂè≤
            history.push({ input, results, timestamp: new Date().toLocaleString() });
            updateHistory();
        }

        // ÂàõÂª∫ÁªìÊûúÂç°Áâá
        function createResultCard(type, content) {
            return `
                <div class="result-item">
                    <h3 class="result-title">${type}</h3>
                    <div class="result-content">${content}</div>
                    <div class="action-buttons">
                        <button class="btn-copy" onclick="copyResult('${type}')">üìã Â§çÂà∂</button>
                        <button class="btn-delete" onclick="deleteResult('${type}')">‚ùå Âà†Èô§</button>
                    </div>
                </div>
            `;
        }

        // Â§çÂà∂ÁªìÊûú
        function copyResult(type) {
            const content = Array.from(document.querySelectorAll('.result-item'))
                .find(item => item.querySelector('.result-title').textContent === type)
                .querySelector('.result-content').textContent;
            navigator.clipboard.writeText(content);
            showNotification(`Â∑≤Â§çÂà∂ ${type} ÁªìÊûúÔºÅ`);
        }

        // Âà†Èô§ÁªìÊûú
        function deleteResult(type) {
            const item = Array.from(document.querySelectorAll('.result-item'))
                .find(item => item.querySelector('.result-title').textContent === type);
            if (item) item.remove();
        }

        // Ê∑ªÂä†Êî∂Ëóè
        function addToFavorites() {
            const input = document.getElementById('input').value;
            if (!input) return showNotification("ËØ∑ËæìÂÖ•ÂÜÖÂÆπÔºÅ");
            const results = {
                UEY: convertText(input, 'UEY'),
                ULY: convertText(input, 'ULY'),
                USY: convertText(input, 'USY'),
                UYY: convertText(input, 'UYY'),
                IPA: `[${convertText(input, 'IPA')}]`
            };
            favorites.push(results);
            updateFavorites();
            showNotification("Â∑≤Ê∑ªÂä†Âà∞Êî∂ËóèÂ§πÔºÅ");
        }

        // Êõ¥Êñ∞Êî∂ËóèÂ§π
        function updateFavorites() {
            const favoritesList = document.getElementById('favoritesList');
            favoritesList.innerHTML = favorites.map((item, index) => `
                <div class="favorite-item">
                    <strong>${item.UEY}</strong>
                    <div>ULY: ${item.ULY}</div>
                    <div>USY: ${item.USY}</div>
                    <div>UYY: ${item.UYY}</div>
                    <div>IPA: ${item.IPA}</div>
                    <button onclick="removeFavorite(${index})">‚ùå Âà†Èô§</button>
                </div>
            `).join('');
        }

        // Âà†Èô§Êî∂Ëóè
        function removeFavorite(index) {
            favorites.splice(index, 1);
            updateFavorites();
            showNotification("Â∑≤‰ªéÊî∂ËóèÂ§πÂà†Èô§ÔºÅ");
        }

        // Êõ¥Êñ∞ÂéÜÂè≤ËÆ∞ÂΩï
        function updateHistory() {
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = history.slice(-5).reverse().map(item => `
                <div class="history-item">
                    <strong>ËæìÂÖ•:</strong> ${item.input}<br>
                    <span>ULY: ${item.results.ULY}</span><br>
                    <span>Êó∂Èó¥: ${item.timestamp}</span>
                </div>
            `).join('');
        }

        // ÊêúÁ¥¢ÂéÜÂè≤ËÆ∞ÂΩï
        function searchHistory() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const filteredHistory = history.filter(item => item.input.toLowerCase().includes(searchTerm));
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = filteredHistory.reverse().map(item => `
                <div class="history-item">
                    <strong>ËæìÂÖ•:</strong> ${item.input}<br>
                    <span>ULY: ${item.results.ULY}</span>
                </div>
            `).join('');
        }

        // ÂàáÊç¢È´òÁ∫ßÈÄâÈ°π
        function toggleAdvanced() {
            const options = document.getElementById('advancedOptions');
            options.style.display = options.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>
